# üìù –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –≤ JWT –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏

## üéØ –û–±–∑–æ—Ä

–§–∞–π–ª `main.py` —Ç–µ–ø–µ—Ä—å —Å–æ–¥–µ—Ä–∂–∏—Ç **–ø–æ–¥—Ä–æ–±–Ω—ã–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ –∫–∞–∂–¥–æ–π —Å—Ç—Ä–æ–∫–µ –∫–æ–¥–∞**, –æ–±—ä—è—Å–Ω—è—é—â–∏–µ:

- **–ß—Ç–æ –¥–µ–ª–∞–µ—Ç –∫–∞–∂–¥–∞—è —Ñ—É–Ω–∫—Ü–∏—è**
- **–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∂–¥—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º**
- **–ü–æ—á–µ–º—É –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ—Ç –∏–ª–∏ –∏–Ω–æ–π –ø–æ–¥—Ö–æ–¥**
- **–ü—Ä–∏–Ω—Ü–∏–ø—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏**
- **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è**

## üìã –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤

### 1. **–ó–∞–≥–æ–ª–æ–≤–æ—á–Ω—ã–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏**
```python
# =============================================================================
# –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø JWT –ê–£–¢–ï–ù–¢–ò–§–ò–ö–ê–¶–ò–ò
# =============================================================================
```
- –†–∞–∑–¥–µ–ª—è—é—Ç –∫–æ–¥ –Ω–∞ –ª–æ–≥–∏—á–µ—Å–∫–∏–µ –±–ª–æ–∫–∏
- –û–±–ª–µ–≥—á–∞—é—Ç –Ω–∞–≤–∏–≥–∞—Ü–∏—é –ø–æ —Ñ–∞–π–ª—É
- –ü–æ–∫–∞–∑—ã–≤–∞—é—Ç –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É —Å–∏—Å—Ç–µ–º—ã

### 2. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–π**
```python
def create_access_token(data: dict, expires_delta: Optional[timedelta] = None):
    """
    –°–æ–∑–¥–∞–Ω–∏–µ JWT access —Ç–æ–∫–µ–Ω–∞ –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ API
    
    Args:
        data: –°–ª–æ–≤–∞—Ä—å —Å –¥–∞–Ω–Ω—ã–º–∏ –¥–ª—è –≤–∫–ª—é—á–µ–Ω–∏—è –≤ —Ç–æ–∫–µ–Ω
        expires_delta: –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –∂–∏–∑–Ω–∏ —Ç–æ–∫–µ–Ω–∞
        
    Returns:
        str: –ó–∞–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–Ω—ã–π JWT —Ç–æ–∫–µ–Ω
        
    –ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã:
    1. –ö–æ–ø–∏—Ä—É–µ—Ç –≤—Ö–æ–¥—è—â–∏–µ –¥–∞–Ω–Ω—ã–µ
    2. –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –≤—Ä–µ–º—è –∏—Å—Ç–µ—á–µ–Ω–∏—è
    3. –ü–æ–¥–ø–∏—Å—ã–≤–∞–µ—Ç —Ç–æ–∫–µ–Ω —Å–µ–∫—Ä–µ—Ç–Ω—ã–º –∫–ª—é—á–æ–º
    """
```

### 3. **–°—Ç—Ä–æ–∫–æ–≤—ã–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏**
```python
password_hash = hash_password(password)  # –•–µ—à–∏—Ä—É–µ–º –ø–∞—Ä–æ–ª—å –ø–µ—Ä–µ–¥ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º
conn = sqlite3.connect('jwt_users.db')  # –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î
cursor = conn.cursor()  # –°–æ–∑–¥–∞–Ω–∏–µ –∫—É—Ä—Å–æ—Ä–∞ –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤
```

### 4. **–û–±—ä—è—Å–Ω–µ–Ω–∏–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏**
```python
# –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –∑–∞—â–∏—Ç–æ–π –æ—Ç timing –∞—Ç–∞–∫
return bcrypt.checkpw(password.encode('utf-8'), password_hash.encode('utf-8'))

# –ü–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π –∑–∞–ø—Ä–æ—Å –¥–ª—è –∑–∞—â–∏—Ç—ã –æ—Ç SQL injection
cursor.execute('SELECT id, email, password_hash FROM users WHERE email = ?', (email,))
```

## üîç –¢–∏–ø—ã –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤

### **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏**
- –û–±—ä—è—Å–Ω—è—é—Ç –æ–±—â—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Å–∏—Å—Ç–µ–º—ã
- –ü–æ–∫–∞–∑—ã–≤–∞—é—Ç —Å–≤—è–∑–∏ –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏
- –û–ø–∏—Å—ã–≤–∞—é—Ç –ø—Ä–∏–Ω—Ü–∏–ø—ã –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### **–ê–ª–≥–æ—Ä–∏—Ç–º–∏—á–µ—Å–∫–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏**
- –ü–æ—à–∞–≥–æ–≤–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ —Å–ª–æ–∂–Ω—ã—Ö –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤
- –û–±—ä—è—Å–Ω–µ–Ω–∏–µ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- –û–ø–∏—Å–∞–Ω–∏–µ –ª–æ–≥–∏–∫–∏ –ø—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏–π

### **–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏**
- –û–±—ä—è—Å–Ω–µ–Ω–∏–µ –º–µ—Ä –∑–∞—â–∏—Ç—ã
- –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –æ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö —É—è–∑–≤–∏–º–æ—Å—Ç—è—Ö
- –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ–º—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

### **–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏**
- –û–±—ä—è—Å–Ω–µ–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –±–∏–±–ª–∏–æ—Ç–µ–∫
- –û–ø–∏—Å–∞–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Ñ—É–Ω–∫—Ü–∏–π
- –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

## üìö –ß—Ç–æ –æ–±—ä—è—Å–Ω—è—é—Ç –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏

### **JWT —Ç–æ–∫–µ–Ω—ã**
- –ö–∞–∫ —Å–æ–∑–¥–∞—é—Ç—Å—è –∏ –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è —Ç–æ–∫–µ–Ω—ã
- –†–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É access –∏ refresh —Ç–æ–∫–µ–Ω–∞–º–∏
- –ü—Ä–∏–Ω—Ü–∏–ø—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ —Ç–æ–∫–µ–Ω–æ–≤

### **–•–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ bcrypt —Å —Å–æ–ª—å—é
- –ó–∞—â–∏—Ç–∞ –æ—Ç rainbow tables
- Timing attack protection

### **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**
- –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–∞–±–ª–∏—Ü
- –ü–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è–º–∏

### **API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã**
- –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- –í–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã

### **JavaScript –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å**
- –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–æ—Ä–º
- –†–∞–±–æ—Ç–∞ —Å —Ç–æ–∫–µ–Ω–∞–º–∏
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

## üéì –û–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω–∞—è —Ü–µ–Ω–Ω–æ—Å—Ç—å

–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –ø–æ–º–æ–≥–∞—é—Ç –ø–æ–Ω—è—Ç—å:

1. **–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –ø–æ–¥—Ö–æ–¥—ã –∫ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏**
2. **–ü—Ä–∏–Ω—Ü–∏–ø—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π**
3. **–õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏**
4. **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã**
5. **–†–∞–±–æ—Ç—É —Å JWT —Ç–æ–∫–µ–Ω–∞–º–∏**

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### **–î–ª—è –∏–∑—É—á–µ–Ω–∏—è**
- –ß–∏—Ç–∞–π—Ç–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –≤–º–µ—Å—Ç–µ —Å –∫–æ–¥–æ–º
- –ü–æ–Ω–∏–º–∞–π—Ç–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã —Ä–∞–±–æ—Ç—ã –∫–∞–∂–¥–æ–π —Ñ—É–Ω–∫—Ü–∏–∏
- –ò–∑—É—á–∞–π—Ç–µ –ø–æ–¥—Ö–æ–¥—ã –∫ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### **–î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏**
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–∞–∫ —à–∞–±–ª–æ–Ω –¥–ª—è —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤
- –ê–¥–∞–ø—Ç–∏—Ä—É–π—Ç–µ –ø–æ–¥ —Å–≤–æ–∏ –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–∏
- –°–ª–µ–¥—É–π—Ç–µ –ø—Ä–∏–Ω—Ü–∏–ø–∞–º –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### **–î–ª—è –ø—Ä–µ–ø–æ–¥–∞–≤–∞–Ω–∏—è**
- –û–±—ä—è—Å–Ω—è–π—Ç–µ —Å—Ç—É–¥–µ–Ω—Ç–∞–º –ø—Ä–∏–Ω—Ü–∏–ø—ã —Ä–∞–±–æ—Ç—ã
- –ü–æ–∫–∞–∑—ã–≤–∞–π—Ç–µ –ª—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏
- –î–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–π—Ç–µ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –ø–æ–¥—Ö–æ–¥—ã

## üìñ –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- **README.md** - –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Å–∏—Å—Ç–µ–º–µ
- **API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** - http://localhost:8000/docs
- **–¢–µ—Å—Ç–æ–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞** - http://localhost:8000/test-js

---

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ**: –í—Å–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –Ω–∞–ø–∏—Å–∞–Ω—ã –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ –¥–ª—è –ª—É—á—à–µ–≥–æ –ø–æ–Ω–∏–º–∞–Ω–∏—è —Ä—É—Å—Å–∫–æ—è–∑—ã—á–Ω—ã–º–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º–∏ –∏ —Å—Ç—É–¥–µ–Ω—Ç–∞–º–∏.
